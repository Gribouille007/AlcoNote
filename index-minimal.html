<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlcoNote - Test Minimal</title>
    
    <!-- Feuilles de style principales -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/accessibility.css">

    <!-- Biblioth√®ques externes essentielles -->
    <script src="https://unpkg.com/dexie@3.2.4/dist/dexie.js"></script>
</head>
<body>
    <!-- Conteneur principal de l'application -->
    <div id="app">
        <!-- En-t√™te de l'application -->
        <header class="app-header">
            <button id="settings-btn" class="settings-btn" aria-label="Param√®tres">
                <div class="hamburger-icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>
            <h1 class="app-title">AlcoNote (Test)</h1>
            <div class="header-spacer"></div>
        </header>

        <!-- Contenu principal avec navigation par onglets -->
        <main class="main-content">
            <!-- Navigation par onglets -->
            <nav class="tab-navigation">
                <button class="tab-btn active" data-tab="categories">Cat√©gories</button>
                <button class="tab-btn" data-tab="history">Historique</button>
                <button class="tab-btn" data-tab="statistics">Statistiques</button>
            </nav>

            <!-- Onglet Cat√©gories -->
            <section id="categories-tab" class="tab-content active">
                <div class="categories-container">
                    <div id="categories-list" class="categories-list">
                        <div class="empty-state">
                            <div class="empty-state-icon">üìÅ</div>
                            <h3 class="empty-state-title">Version de test</h3>
                            <p class="empty-state-description">
                                Cette version minimaliste teste le chargement de base.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="history-tab" class="tab-content">
                <div class="history-container">
                    <p>Historique de test</p>
                </div>
            </section>

            <section id="statistics-tab" class="tab-content">
                <div class="statistics-container">
                    <p>Statistiques de test</p>
                </div>
            </section>
        </main>

        <!-- Bouton d'action flottant -->
        <div class="fab-container" id="fab-container">
            <button id="add-category-btn" class="fab-main" aria-label="Ajouter une cat√©gorie">
                <span class="fab-icon">+</span>
            </button>
        </div>
    </div>

    <!-- Scripts JavaScript minimaux pour test -->
    <script>
        console.log('Script de test charg√©');
        
        // Test basique de la navigation
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM charg√©');
            
            // Navigation par onglets
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    console.log('Clic sur onglet:', button.dataset.tab);
                    
                    // Update active tab button
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    
                    // Update active tab content
                    tabContents.forEach(content => content.classList.remove('active'));
                    const targetContent = document.getElementById(button.dataset.tab + '-tab');
                    if (targetContent) {
                        targetContent.classList.add('active');
                    }
                });
            });
            
            // Test du bouton FAB
            const fabBtn = document.getElementById('add-category-btn');
            if (fabBtn) {
                fabBtn.addEventListener('click', () => {
                    console.log('Clic sur FAB');
                    alert('Bouton FAB cliqu√©! L\'interface fonctionne.');
                });
            }
            
            console.log('Listeners ajout√©s, app pr√™te');
        });
        
        // Test Dexie
        if (typeof Dexie !== 'undefined') {
            console.log('Dexie disponible');
            
            const db = new Dexie('TestDB');
            db.version(1).stores({
                test: 'id, name'
            });
            
            db.open().then(() => {
                console.log('Base de donn√©es de test ouverte');
            }).catch(e => {
                console.error('Erreur DB:', e);
            });
        } else {
            console.error('Dexie non disponible');
        }
    </script>
</body>
</html>
